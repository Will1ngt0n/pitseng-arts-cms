<ion-content>
  <div class="myHeader">
    <div class="head-top">
      <div class="components">

        <div>

          <img src="../../../assets/Group 235.png" alt="">
        </div>
        <div>
          <ion-searchbar (keyup)='searchProducts($event)'></ion-searchbar>
        </div>
        <div id="items-right">
          <div id="profile" (click)="openProfile()">
            <ion-icon name="person"></ion-icon>
          </div>
          <div>
            <ion-button id="adder-big" (click)="openAddProduct()" fill="outline" shape="round">
              <ion-icon name="add"></ion-icon> Product
            </ion-button>
            <ion-button id="adder-small" (click)="openAddProduct()" fill="outline" shape="round">
              <ion-icon name="add"></ion-icon>
            </ion-button>
          </div>
        </div>
      </div>
    </div>
    <div class="head-tail">
      <div class="nav-buttons">
        <div id="categories" (click)="Categories($event)">All Categories</div>
        <div (click)="navigate('landing')" class="myHome">HOME</div>
        <div (click)="openFAQRS()">FAQS</div>
        <div (click)="navigate('queries')">QUERIES</div>
        <div (click)="navigate('about-us')">ABOUT</div>
      </div>
    </div>
  </div>
  <div class="myBody" *ngIf="!searchResults">
    <div class="pre-amp">
      <div (click)='viewOrders("orders", pendingOrders)'>
        <img src="../../../assets/clock.png" alt="">
        <p>Pending Orders ({{pendingOrders.length}})</p>
      </div>
      <div (click)='viewOrders("order history", orderHistory)'>
        <img src="../../../assets/clock-1.png" alt="">
        <p>Closed Orders ({{orderHistory.length}})</p>
      </div>
      <div (click)='viewItems("inventory", "items-list", inventory.length)'>
        <img src="../../../assets/clock-2.png" alt="">
        <p>Inventory ({{inventory.length}})</p>
      </div>
    </div>
    <div class="categories">
      <div class="nav-buttons dark">
        <div (click)='viewItems("Deco","items-list", decorationsLength)'>
          <img src="../../assets/frame.svg" alt="">
          <p>Decorations {{decorationsLength}} items</p>
        </div>
        <div (click)='viewItems("Lamps","items-list", lampsLength)'>
          <img src="../../assets/lamp.svg" alt="">
          <p>Lamps {{lampsLength}} items</p>
        </div>
        <div (click)='viewItems("Vases","items-list", vasesLength)'>
          <img src="../../assets/pottery.svg" alt="">
          <p>Vases {{vasesLength}} items</p>
        </div>
        <div (click)='viewItems("Pottery","items-list", potteryLength)'>
          <img src="../../assets/pot.svg" alt="">
          <p>Pottery {{potteryLength}} items</p>
        </div>

      </div>
    </div>
    <div class="specials-tab">
      <div (click)='viewItems("specials", "items-list", sales.length)'>
        <p *ngIf='maxPercentage > 0'>Sales up to {{maxPercentage}}%</p>
        <p *ngIf='maxPercentage === 0'>No sales present</p>
        <img src="https://i.pinimg.com/564x/86/af/7e/86af7ef6b2c3f713ca31cd6e726c899e.jpg" alt="">
      </div>
      <div>
        <div id="topBar">
          <div>Special Offers</div>
        </div>
        <div id="recent-specials">
          <div id="item-on-special" *ngFor='let item of sales' (click)='viewDetails(item)'>
            <img [src]='item.data.image' alt="" id="item-view">
            <p id="name-of-item">{{item.data.name}}</p>
            <p id="rating">
              <span *ngIf='item.data.avgRating'><ion-icon name="star"></ion-icon> {{item.data.avgRating}}</span>
              <span *ngIf='!item.data.avgRating'><ion-icon name="star"></ion-icon> 0</span>
            </p>
            <p id="rating"><b> {{item.data.salePrice | currency : 'R'}}</b><b  
                id="strike">{{item.data.price | currency : 'R'}}</b></p>
          </div>



          <div id="item-on-special" *ngIf="sales.length === 0 && loadingData === true">
            <ion-skeleton-text  [animated]="loadingData" style="height: 170px; width: 100%"></ion-skeleton-text>
            <p id="name-of-item">
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text>
            </p>
            <p id="rating">
              <span>
                <ion-skeleton-text  [animated]="loadingData" style="width: 100%; text-align: center;"></ion-skeleton-text>
              </span>
            </p>
            <p id="rating"><b>
                <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text></b></p>
          </div>

          <div id="item-on-special" *ngIf="sales.length === 0 && loadingData === true">
            <ion-skeleton-text  [animated]="loadingData" style="height: 170px; width: 100%"></ion-skeleton-text>
            <p id="name-of-item">
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text>
            </p>
            <p id="rating">
              <span>
                <ion-skeleton-text  [animated]="loadingData" style="width: 100%; text-align: center;"></ion-skeleton-text>
              </span>
            </p>
            <p id="rating"><b>
                <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text></b></p>
          </div>

          <div id="item-on-special" *ngIf="sales.length === 0 && loadingData === true">
            <ion-skeleton-text  [animated]="loadingData" style="height: 170px; width: 100%"></ion-skeleton-text>
            <p id="name-of-item">
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text>
            </p>
            <p id="rating">
              <span>
                <ion-skeleton-text  [animated]="loadingData" style="width: 100%; text-align: center;"></ion-skeleton-text>
              </span>
            </p>
            <p id="rating"><b>
                <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text></b></p>
          </div>

          <div id="item-on-special" *ngIf="sales.length === 0 && loadingData === true">
            <ion-skeleton-text  [animated]="loadingData" style="height: 170px; width: 100%"></ion-skeleton-text>
            <p id="name-of-item">
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text>
            </p>
            <p id="rating">
              <span>
                <ion-skeleton-text  [animated]="loadingData" style="width: 100%; text-align: center;"></ion-skeleton-text>
              </span>
            </p>
            <p id="rating"><b>
                <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text></b></p>
          </div>

          <div id="item-on-special" *ngIf="sales.length === 0 && loadingData === true">
            <ion-skeleton-text  [animated]="loadingData" style="height: 170px; width: 100%"></ion-skeleton-text>
            <p id="name-of-item">
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text>
            </p>
            <p id="rating">
              <span>
                <ion-skeleton-text  [animated]="loadingData" style="width: 100%; text-align: center;"></ion-skeleton-text>
              </span>
            </p>
            <p id="rating"><b>
                <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text></b></p>
          </div>

          <div class="no-data" *ngIf="sales.length === 0 && loadingData === false">
            There are no items on sale or promotion yet
          </div>


        </div>
      </div>
    </div>
    <div class="all-products" (click)='viewItems("inventory", "items-list", inventory.length)'>
      <p>View all products</p>
      <img src="https://i.pinimg.com/564x/05/00/a3/0500a38d3528a3d6d476a584d8b6634d.jpg" alt="">
    </div>

    <div id="best-sellers">
      <div id="topBar">
        <div>Special Offers</div>
      </div>
      <div id="recent-specials">
        <div id="item-on-special" class="spacer" *ngFor='let item of bestSellers' (click)='viewDetails(item)'>
          <img [src]='item.data.image' alt="" id="item-view">
          <p id="name-of-item">{{item.data.name}}</p>
          <p id="rating">
            <span *ngIf='item.data.avgRating'>
              <ion-icon name="star"></ion-icon> {{item.data.avgRating}}
            </span>
            <span *ngIf='!item.data.avgRating'>
              <ion-icon name="star"></ion-icon> 0
            </span>
          </p>
          <p id="rating"><b> {{item.data.salePrice | currency : 'R'}}</b></p>
        </div>


        


        <div id="item-on-special" *ngIf="bestSellers.length === 0 && loadingData === true">
          <!-- <img src="../../../assets/1.png" alt=""> -->
          <ion-skeleton-text  [animated]="loadingData" style="height: 170px; width: 100%"></ion-skeleton-text>
          <p id="name-of-item">
            <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text>
          </p>
          <p id="rating">
            <span>
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%; text-align: center;"></ion-skeleton-text>
            </span>
          </p>
          <p id="rating"><b>
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text></b></p>
        </div>

        <div id="item-on-special" *ngIf="bestSellers.length === 0 && loadingData === true">
          <!-- <img src="../../../assets/1.png" alt=""> -->
          <ion-skeleton-text  [animated]="loadingData" style="height: 170px; width: 100%"></ion-skeleton-text>
          <p id="name-of-item">
            <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text>
          </p>
          <p id="rating">
            <span>
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%; text-align: center;"></ion-skeleton-text>
            </span>
          </p>
          <p id="rating"><b>
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text></b></p>
        </div>

        <div id="item-on-special" *ngIf="bestSellers.length === 0 && loadingData === true">
          <!-- <img src="../../../assets/1.png" alt=""> -->
          <ion-skeleton-text  [animated]="loadingData" style="height: 170px; width: 100%"></ion-skeleton-text>
          <p id="name-of-item">
            <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text>
          </p>
          <p id="rating">
            <span>
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%; text-align: center;"></ion-skeleton-text>
            </span>
          </p>
          <p id="rating"><b>
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text></b></p>
        </div>

        <div id="item-on-special" *ngIf="bestSellers.length === 0 && loadingData === true">
          <!-- <img src="../../../assets/1.png" alt=""> -->
          <ion-skeleton-text  [animated]="loadingData" style="height: 170px; width: 100%"></ion-skeleton-text>
          <p id="name-of-item">
            <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text>
          </p>
          <p id="rating">
            <span>
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%; text-align: center;"></ion-skeleton-text>
            </span>
          </p>
          <p id="rating"><b>
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text></b></p>
        </div>

        <div id="item-on-special" *ngIf="bestSellers.length === 0 && loadingData === true">
          <!-- <img src="../../../assets/1.png" alt=""> -->
          <ion-skeleton-text  [animated]="loadingData" style="height: 170px; width: 100%"></ion-skeleton-text>
          <p id="name-of-item">
            <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text>
          </p>
          <p id="rating">
            <span>
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%; text-align: center;"></ion-skeleton-text>
            </span>
          </p>
          <p id="rating"><b>
              <ion-skeleton-text  [animated]="loadingData" style="width: 100%"></ion-skeleton-text></b></p>
        </div>

        <div class="no-data" *ngIf="bestSellers.length === 0 && loadingData === false">
          There are no items on sale or promotion yet
        </div>

      </div>
    </div>
  </div>
  <div class="myBody" *ngIf="searchResults || searchResults !== ''">
    <p>Search Results</p>
    <div class="searched-grid">
      <div class="myCol" *ngFor="let item of searchedItems" (click)='viewDetails(item)'>
        <img [src]='item.data.image' id="item-image" alt="">
        <p>{{item.data.name}}</p>
        <p id="rating"><b> {{item.data.salePrice | currency : 'R'}}</b><b
            id="strike">{{item.data.price | currency : 'R'}}</b></p>
      </div>
    </div>
  </div>
  <div class="feet">
    <div id="desc">&copy; 2020 Pitseng Arts and Crafts</div>
  </div>
</ion-content>