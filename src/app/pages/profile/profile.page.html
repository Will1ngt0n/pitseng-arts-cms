<ion-content>
  <div class="loader-container" *ngIf="loader">
    <div class="loader">Loading...</div>
  </div>
  <div class="signOut to-left" (click)="dismiss()">
    <ion-icon name="arrow-back"></ion-icon>
  </div>
  <div class="signOut" (click)="logOut()" *ngIf="!loader">
    <ion-icon name="log-out-outline"></ion-icon>
  </div>

  <div class="content-container" *ngIf="!loader">
    <div class="cover-image">
      <div class="prof">
        {{prof}}
      </div>
    </div>
    <div class="details">
      <div class="dp">
        <input type="file" (change)="changeListener($event)" id="image" [disabled]="enableInputs">
        <label for="image">
          <div class="camera-icon" *ngIf="profileStatus == 'write'">
            <ion-icon name="camera"></ion-icon>
          </div>
          <img src="{{profile.image}}" alt="">  
        </label>
      </div>
      <div class="username">
        <p><b>{{profile.name}}</b></p>
        <p>{{profile.email}}</p>
      </div>
      <div id="inputs">
      <div class="userInput" id="growAnimation" *ngIf="profileStatus == 'write'">
        <div>
          <input type="text" placeholder="Full Name" onkeypress="return /[a-zA-Z\s]/i.test(event.key)" [(ngModel)]="profile.name">
        </div>
        <div>
          <ion-icon name="person"></ion-icon>
        </div>
      </div>
      <div class="userInput" id="growAnimation" *ngIf="profileStatus == 'write'">
        <div>
          <input type="email" disabled placeholder="Email" [(ngModel)]="profile.email">
        </div>
        <div>
          <ion-icon name="mail"></ion-icon>
        </div>
      </div>
      <div class="userInput">
        <div>
          <input type="tel" value="+27" minlength=10 maxlength=10 onkeypress="return event.charCode === 0 || /\d/.test(String.fromCharCode(event.charCode));" placeholder="Phone" [disabled]="enableInputs" [(ngModel)]="profile.phoneNumber">
        </div>
        <div>
          <ion-icon name="call"></ion-icon>
        </div>
      </div>
      <div class="userInput">
        <div>
          <input type="text" placeholder="House # and Street Name" [disabled]="enableInputs" [(ngModel)]="profile.addressLine1">
        </div>
        <div>
          <ion-icon name="home"></ion-icon>
        </div>
      </div>
      <div class="userInput">
        <div>
          <input type="text" placeholder="Suburb" [disabled]="enableInputs" [(ngModel)]="profile.addressLine2">
        </div>
        <div>
          <ion-icon name="business"></ion-icon>
        </div>
      </div>
      <div class="userInput">
        <div>
          <input type="text" placeholder="City" [disabled]="enableInputs" [(ngModel)]="profile.city">
        </div>
        <div>
          <ion-icon name="business"></ion-icon>
        </div>
      </div>
      <div class="userInput">
        <div>
          <input type="number" placeholder="Postal Code" [disabled]="enableInputs" [(ngModel)]="profile.code">
        </div>
        <div>
          <ion-icon name="code"></ion-icon>
        </div>
      </div>

      <button (click)='editProfile()' id="theButton" *ngIf="profileStatus == 'read'">Edit Profile</button>
      <button (click)='submitChanges()' id="theButton" *ngIf="profileStatus == 'write'">Done</button>
      <button (click)='cancelChanges()' id="theButton" *ngIf="profileStatus == 'write'">Cancel</button>

      </div>
    </div>
  </div>

</ion-content>